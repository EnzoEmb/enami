/*!
 * enami
 * Animation on scroll
 * 2020 Enzo Vergara
 * MIT License
 * https://github.com/enzoemb/enami
 */
!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.enami=e(t)}("undefined"!=typeof global?global:this.window||this.global,(function(t){"use strict";var e={element:null,offset:"0px 0px 0px 0px",delay:0,duration:400,once:!0,disableOnMobile:!1,threshold:0,selector:null},a=function(t,e){var a=new CustomEvent(t,{});e?e.dispatchEvent(a):document.dispatchEvent(a)},n=function(t){var e=(t=t.trim()).replace(/[^0-9.]/g,"");return t.endsWith("ms")?e:1e3*e},i=function(t){a("enami:animate-in",t);let e=t.getAttribute("data-enami-delay");e&&(t.style.transitionDelay=e,t.style.animationDelay=e);let n=t.getAttribute("data-enami-duration");n&&(t.style.transitionDuration=n,t.style.animationDuration=n),t.removeAttribute("data-enami-out"),t.setAttribute("data-enami-in","")},r=function(t){a("enami:animate-out",t),t.removeAttribute("data-enami-in",""),t.setAttribute("data-enami-out","")},o=function(t){t.style.transition="false",t.style.animation="false",t.removeAttribute("data-enami-in"),setTimeout((function(){t.style.transition="",t.style.animation=""}),1)};return function(t){var l,s,u,d,c={},m={...e,...t};function f(){a("enami:init"),1==m.disableOnMobile&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(l=new IntersectionObserver((t,e)=>{t.forEach(t=>{let a=t.target.getAttribute("data-enami-once"),l=t.target.getAttribute("data-enami-reset"),s=t.target.hasAttribute("data-enami-reset"),u=t.target.hasAttribute("data-enami-in");if(t.target.hasAttribute("data-enami-children")){let s=t.target.getAttribute("data-enami-stagger"),d=t.target.getAttribute("data-enami-children"),c=t.target.querySelectorAll(d),f=t.target.getAttribute("data-enami-delay");if(null!=s){let t=n(s),e=1;f&&(f=n(f)),c.forEach(a=>{let n=t*e;a.style.transitionDelay=n+f+"ms",a.style.animationDelay=n+f+"ms",e++})}t.isIntersecting?(c.forEach((t,e)=>{i(t)}),(1==m.once||a)&&e.unobserve(t.target)):c.forEach(t=>{u&&(null!=l?o(t):r(t))})}else t.isIntersecting?(i(t.target),(1==m.once||a)&&e.unobserve(t.target)):u&&s?r(t.target):s&&o(t.target)})},{rootMargin:m.offset,threshold:m.threshold}),d.forEach(t=>{l.observe(t)}),s.forEach(t=>{l.observe(t);let e=t.getAttribute("data-enami-children");t.querySelectorAll(e).forEach(t=>{l.unobserve(t)})}))}return u=null!=m.selector?document.querySelector(m.selector):document,d=u.querySelectorAll("[data-enami]"),s=u.querySelectorAll("[data-enami-children]"),c.destroy=function(t){a("enami:destroy"),l.disconnect(),l=null},c.reset=function(t){a("enami:reset");var e=document.querySelector(t);o(e)},c.update=function(){a("enami:update"),c.destroy(),f()},f(),c}}));