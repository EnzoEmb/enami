/*!
 * enami
 * Animation on scroll
 * 2020 Enzo Vergara
 * MIT License
 * https://github.com/enzoemb/enami
 */
!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.enami=e(t)}("undefined"!=typeof global?global:this.window||this.global,(function(t){"use strict";var e={element:null,offset:"0px 0px 0px 0px",delay:0,duration:400,once:!0,disableOnMobile:!1,threshold:0,selector:null},a=function(t,e){var a=new CustomEvent(t,{});e?e.dispatchEvent(a):document.dispatchEvent(a)},n=function(t){a("enami:animate-in",t);let e=t.getAttribute("data-enami-delay");e&&(t.style.transitionDelay=e,t.style.animationDelay=e);let n=t.getAttribute("data-enami-duration");n&&(t.style.transitionDuration=n,t.style.animationDuration=n),t.removeAttribute("data-enami-out"),t.setAttribute("data-enami-in","")},i=function(t){a("enami:animate-out",t),t.removeAttribute("data-enami-in",""),t.setAttribute("data-enami-out","")},r=function(t){t.style.transition="false",t.style.animation="false",t.removeAttribute("data-enami-in"),setTimeout((function(){t.style.transition="",t.style.animation=""}),1)};return function(t){var o,l,s,u,d,c={},m={...e,...t};function f(){a("enami:init"),1==m.disableOnMobile&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(l=new IntersectionObserver((t,e)=>{t.forEach(t=>{if(t.target.hasAttribute("data-enami-children")){let l=t.target.getAttribute("data-enami-stagger"),s=t.target.getAttribute("data-enami-reset"),u=t.target.getAttribute("data-enami-children"),d=t.target.querySelectorAll(u);if(null!=l){let t=(o=(a=(a=l).trim()).replace(/[^0-9.]/g,""),a.endsWith("ms")?o:1e3*o),e=1;d.forEach(a=>{let n=t*e;a.style.transitionDelay=n+"ms",a.style.animationDelay=n+"ms",e++})}if(t.isIntersecting){d.forEach((t,e)=>{n(t)});let a=t.target.getAttribute("data-enami-once");1!=m.once&&"true"!==a&&"1"!==a||e.unobserve(t.target)}else d.forEach(t=>{t.hasAttribute("data-enami-in")&&(null!=s?r(t):i(t))})}else if(t.isIntersecting){n(t.target);let a=t.target.getAttribute("data-enami-once");1!=m.once&&"true"!==a&&"1"!==a||e.unobserve(t.target)}else t.target.hasAttribute("data-enami-in")&&0==t.target.hasAttribute("data-enami-reset")?i(t.target):t.target.hasAttribute("data-enami-reset")&&r(t.target);var a,o})},{rootMargin:m.offset,threshold:m.threshold}),d.forEach(t=>{l.observe(t)}),s.forEach(t=>{l.observe(t);let e=t.getAttribute("data-enami-children");t.querySelectorAll(e).forEach(t=>{l.unobserve(t)})}))}return u=null!=m.selector?document.querySelector(m.selector):document,d=u.querySelectorAll("[data-enami]"),s=u.querySelectorAll("[data-enami-children]"),c.destroy=function(t){a("enami:destroy"),o.disconnect(),l.disconnect(),o=null,l=null},c.reset=function(t){a("enami:reset");var e=document.querySelector(t);r(e)},c.update=function(){a("enami:update"),c.destroy(),f()},f(),c}}));