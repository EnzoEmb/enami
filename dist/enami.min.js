/*!
 * enami
 * Animation on scroll
 * 2020 Enzo Vergara
 * MIT License
 * https://github.com/enzoemb/enami
 */
!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.enami=e(t)}("undefined"!=typeof global?global:this.window||this.global,(function(t){"use strict";var e={offset:"0px 0px 0px 0px",delay:null,duration:null,once:!0,disableOnMobile:!1,threshold:0,selector:null},a=function(t,e){var a=new CustomEvent(t,{});e?e.dispatchEvent(a):document.dispatchEvent(a)},n=function(t){var e=(t=t.trim()).replace(/[^0-9.]/g,"");return t.endsWith("ms")?parseInt(e):1e3*e},i=function(t,e){a("enami:animate-in",t);let n=t.getAttribute("data-enami-delay");n&&""==t.style.transitionDelay?(t.style.transitionDelay=n,t.style.animationDelay=n):null!=e.delay&&""==t.style.transitionDelay&&(t.style.transitionDelay=e.delay,t.style.animationDelay=e.delay);let i=t.getAttribute("data-enami-duration");i?(t.style.transitionDuration=i,t.style.animationDuration=i):null!=e.duration&&(t.style.transitionDuration=e.duration,t.style.animationDuration=e.duration),t.removeAttribute("data-enami-out"),l(t),t.setAttribute("data-enami-in","")},r=function(t){a("enami:animate-out",t),t.removeAttribute("data-enami-in"),l(t),t.setAttribute("data-enami-out","")},o=function(t){t.style.transition="false",t.style.animation="false",t.removeAttribute("data-enami-in"),l(t),setTimeout((function(){t.style.transition="",t.style.animation=""}),1)},l=function(t){};return function(t){var l,s,u,d,c={},m={...e,...t};function y(){a("enami:init"),1==m.disableOnMobile&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(l=new IntersectionObserver((t,e)=>{t.forEach(t=>{if(t.target.hasAttribute("data-enami-children")){let a=t.target.getAttribute("data-enami-stagger"),l=t.target.getAttribute("data-enami-reset"),s=t.target.getAttribute("data-enami-children"),u=t.target.querySelectorAll(s),d=t.target.getAttribute("data-enami-delay");if(null!=a){let t=n(a),e=1;null!=d?d=n(d):null!=m.delay&&(d=n(m.delay)),u.forEach(a=>{let n=t*e;a.style.transitionDelay=n+d+"ms",a.style.animationDelay=n+d+"ms",e++})}if(t.isIntersecting){u.forEach((t,e)=>{i(t,m)}),(t.target.hasAttribute("data-enami-once")||m.once)&&e.unobserve(t.target)}else u.forEach(t=>{t.hasAttribute("data-enami-in")&&(null!=l?o(t):r(t))})}else if(t.isIntersecting){i(t.target,m),(t.target.hasAttribute("data-enami-once")||m.once)&&e.unobserve(t.target)}else t.target.hasAttribute("data-enami-in")&&0==t.target.hasAttribute("data-enami-reset")?r(t.target):t.target.hasAttribute("data-enami-reset")&&o(t.target)})},{rootMargin:m.offset,threshold:m.threshold}),d.forEach(t=>{l.observe(t)}),s.forEach(t=>{l.observe(t);let e=t.getAttribute("data-enami-children");t.querySelectorAll(e).forEach(t=>{l.unobserve(t)})}))}return u=null!=m.selector?document.querySelector(m.selector):document,d=u.querySelectorAll("[data-enami]"),s=u.querySelectorAll("[data-enami-children]"),c.destroy=function(t){a("enami:destroy"),l.disconnect(),l=null},c.reset=function(t){a("enami:reset");var e=document.querySelector(t);o(e)},c.update=function(){a("enami:update"),c.destroy(),y()},y(),c}}));