/*!
 * enima-js
 * Animation on scroll
 * 2020 Enzo Vergara
 * MIT License
 * https://github.com/enzoemb/enima
 */
!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.enima=e(t)}("undefined"!=typeof global?global:this.window||this.global,(function(t){"use strict";var e={element:null,offset:"0px 0px 0px 0px",delay:0,duration:400,once:!0,disableOnMobile:!1,threshold:0},a=function(t,e){var a=new CustomEvent(t,{});e?e.dispatchEvent(a):document.dispatchEvent(a)},n=function(t){a("enima:animate-in",t);let e=t.getAttribute("data-enima-delay");e&&(t.style.transitionDelay=e,t.style.animationDelay=e);let n=t.getAttribute("data-enima-duration");n&&(t.style.transitionDuration=n,t.style.animationDuration=n),t.removeAttribute("data-enima-out"),t.setAttribute("data-enima-in","")},i=function(t){a("enima:animate-out",t),t.removeAttribute("data-enima-in",""),t.setAttribute("data-enima-out","")};return function(t){var r,o,s,l,u={},d={...e,...t};function m(){a("enima:init"),1==d.disableOnMobile&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(o=new IntersectionObserver((t,e)=>{t.forEach(t=>{if(t.isIntersecting){n(t.target);let a=t.target.getAttribute("data-enima-once");1!=d.once&&"true"!==a&&"1"!==a||e.unobserve(t.target)}else t.target.hasAttribute("data-enima-in")&&0==t.target.hasAttribute("data-enima-reset")?i(t.target):t.target.hasAttribute("data-enima-reset")&&(t.target.style.transition="false",t.target.style.animation="false",t.target.removeAttribute("data-enima-in"),setTimeout((function(){t.target.style.transition="",t.target.style.animation=""}),1))})},{rootMargin:d.offset,threshold:d.threshold}),console.log(l),l.querySelectorAll("[data-enima]").forEach(t=>{o.observe(t)}),s=l.querySelectorAll("[data-enima-children]"),r=new IntersectionObserver((t,e)=>{t.forEach(t=>{let a=t.target.getAttribute("data-enima-stagger"),r=t.target.getAttribute("data-enima-reset"),o=t.target.getAttribute("data-enima-children"),s=t.target.querySelectorAll(o);if(null!=a){let t=(u=(l=(l=a).trim()).replace(/[^0-9.]/g,""),l.endsWith("ms")?u:1e3*u),e=1;s.forEach(a=>{let n=t*e;a.style.transitionDelay=n+"ms",a.style.animationDelay=n+"ms",e++})}var l,u;if(t.isIntersecting){s.forEach((t,e)=>{n(t)});let a=t.target.getAttribute("data-enima-once");1!=d.once&&"true"!==a&&"1"!==a||e.unobserve(t.target)}else s.forEach(t=>{t.hasAttribute("data-enima-in")&&(null!=r?(t.style.transition="false",t.style.animation="false",t.removeAttribute("data-enima-in"),setTimeout((function(){t.style.transition="",t.style.animation=""}),1)):i(t))})})},{rootMargin:d.offset,threshold:d.threshold}),s.forEach(t=>{r.observe(t);let e=t.getAttribute("data-enima-children");t.querySelectorAll(e).forEach(t=>{o.unobserve(t)})}))}return l=l?document.querySelector(d.parentSelector):document,u.destroy=function(t){a("enima:destroy"),r.disconnect(),o.disconnect(),r=null,o=null,console.log(r)},u.reset=function(t){a("enima:reset");var e=document.querySelector(t);e.style.transition="false",e.style.animation="false",e.removeAttribute("data-enima-in"),setTimeout((function(){e.style.transition="",e.style.animation="",e.setAttribute("data-enima-in","")}),1)},u.update=function(){u.destroy(),m()},m(),u}}));