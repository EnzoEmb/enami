/*!
 * enima-js
 * Animation on scroll
 * 2020 Enzo Vergara
 * MIT License
 * https://github.com/enzoemb/enima
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.enima=t(e)}("undefined"!=typeof global?global:this.window||this.global,(function(e){"use strict";var t,a,n,i={},r={offset:"0px 0px 0px 0px",delay:0,duration:400,once:!0,disableOnMobile:!1,threshold:0};function o(e,t){var a=new CustomEvent(e,{});t?t.dispatchEvent(a):document.dispatchEvent(a)}function l(e){o("enima:animate-in",e);let t=e.getAttribute("data-enima-delay");t&&(e.style.transitionDelay=t,e.style.animationDelay=t);let a=e.getAttribute("data-enima-duration");a&&(e.style.transitionDuration=a,e.style.animationDuration=a),e.removeAttribute("data-enima-out"),e.setAttribute("data-enima-in","")}function s(e){o("enima:animate-out",e),e.removeAttribute("data-enima-in",""),e.setAttribute("data-enima-out","")}return i.init=function(e){o("enima:init");var i={...r,...e};1==i.disableOnMobile&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(a=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){l(e.target);let a=e.target.getAttribute("data-enima-once");1!=i.once&&"true"!==a&&"1"!==a||t.unobserve(e.target)}else e.target.hasAttribute("data-enima-in")&&s(e.target)})},{rootMargin:i.offset,threshold:i.threshold}),document.querySelectorAll("[data-enima]").forEach(e=>{a.observe(e)}),n=document.querySelectorAll("[data-enima-children]"),t=new IntersectionObserver((e,t)=>{e.forEach(e=>{let a=e.target.getAttribute("data-enima-stagger"),n=e.target.getAttribute("data-enima-children"),r=e.target.querySelectorAll(n);if(null!=a){let e=(d=(o=(o=a).trim()).replace(/[^0-9.]/g,""),o.endsWith("ms")?d:1e3*d),t=1;r.forEach(a=>{let n=e*t;a.style.transitionDelay=n+"ms",a.style.animationDelay=n+"ms",t++})}var o,d;if(e.isIntersecting){r.forEach((e,t)=>{l(e)});let a=e.target.getAttribute("data-enima-once");1!=i.once&&"true"!==a&&"1"!==a||t.unobserve(e.target)}else r.forEach(e=>{e.hasAttribute("data-enima-in")&&s(e)})})},{rootMargin:i.offset,threshold:i.threshold}),n.forEach(e=>{t.observe(e);let n=e.getAttribute("data-enima-children");e.querySelectorAll(n).forEach(e=>{a.unobserve(e)})}))},i.destroy=function(e){o("enima:destroy"),t.disconnect(),a.disconnect(),t=null,a=null,console.log(t)},i}));