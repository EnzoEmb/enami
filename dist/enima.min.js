/*!
 * enima-js
 * Animation on scroll
 * 2020 Enzo Vergara
 * MIT License
 * https://github.com/enzoemb/enima
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.enima=t(e)}("undefined"!=typeof global?global:this.window||this.global,(function(e){"use strict";var t={element:null,offset:"0px 0px 0px 0px",delay:0,duration:400,once:!0,disableOnMobile:!1,threshold:0},n=function(e,t){var n=new CustomEvent(e,{});t?t.dispatchEvent(n):document.dispatchEvent(n)},a=function(e){n("enima:animate-in",e);let t=e.getAttribute("data-enima-delay");t&&(e.style.transitionDelay=t,e.style.animationDelay=t);let a=e.getAttribute("data-enima-duration");a&&(e.style.transitionDuration=a,e.style.animationDuration=a),e.removeAttribute("data-enima-out"),e.setAttribute("data-enima-in","")},i=function(e){n("enima:animate-out",e),e.removeAttribute("data-enima-in",""),e.setAttribute("data-enima-out","")};return function(e){var r,o,l,s={};return s.destroy=function(e){n("enima:destroy"),r.disconnect(),o.disconnect(),r=null,o=null,console.log(r)},function(){n("enima:init");var s={...t,...e};1==s.disableOnMobile&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(o=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){a(e.target);let n=e.target.getAttribute("data-enima-once");1!=s.once&&"true"!==n&&"1"!==n||t.unobserve(e.target)}else e.target.hasAttribute("data-enima-in")&&i(e.target)})},{rootMargin:s.offset,threshold:s.threshold}),document.querySelectorAll("[data-enima]").forEach(e=>{o.observe(e)}),l=document.querySelectorAll("[data-enima-children]"),r=new IntersectionObserver((e,t)=>{e.forEach(e=>{let n=e.target.getAttribute("data-enima-stagger"),r=e.target.getAttribute("data-enima-children"),o=e.target.querySelectorAll(r);if(null!=n){let e=(u=(l=(l=n).trim()).replace(/[^0-9.]/g,""),l.endsWith("ms")?u:1e3*u),t=1;o.forEach(n=>{let a=e*t;n.style.transitionDelay=a+"ms",n.style.animationDelay=a+"ms",t++})}var l,u;if(e.isIntersecting){o.forEach((e,t)=>{a(e)});let n=e.target.getAttribute("data-enima-once");1!=s.once&&"true"!==n&&"1"!==n||t.unobserve(e.target)}else o.forEach(e=>{e.hasAttribute("data-enima-in")&&i(e)})})},{rootMargin:s.offset,threshold:s.threshold}),l.forEach(e=>{r.observe(e);let t=e.getAttribute("data-enima-children");e.querySelectorAll(t).forEach(e=>{o.unobserve(e)})}))}(),s}}));