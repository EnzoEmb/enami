/*!
 * enima-js
 * Animation on scroll
 * 2020 Enzo Vergara
 * MIT License
 * https://github.com/enzoemb/enima
 */
!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.enima=e(t)}("undefined"!=typeof global?global:this.window||this.global,(function(t){"use strict";var e={element:null,offset:"0px 0px 0px 0px",delay:0,duration:400,once:!0,disableOnMobile:!1,threshold:0},a=function(t,e){var a=new CustomEvent(t,{});e?e.dispatchEvent(a):document.dispatchEvent(a)},n=function(t){a("enima:animate-in",t);let e=t.getAttribute("data-enima-delay");e&&(t.style.transitionDelay=e,t.style.animationDelay=e);let n=t.getAttribute("data-enima-duration");n&&(t.style.transitionDuration=n,t.style.animationDuration=n),t.removeAttribute("data-enima-out"),t.setAttribute("data-enima-in","")},i=function(t){a("enima:animate-out",t),t.removeAttribute("data-enima-in",""),t.setAttribute("data-enima-out","")},r=function(t){t.style.transition="false",t.style.animation="false",t.removeAttribute("data-enima-in"),setTimeout((function(){t.style.transition="",t.style.animation=""}),1)};return function(t){var o,l,s,u,d={},c={...e,...t};function m(){a("enima:init"),1==c.disableOnMobile&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(l=new IntersectionObserver((t,e)=>{t.forEach(t=>{if(t.isIntersecting){n(t.target);let a=t.target.getAttribute("data-enima-once");1!=c.once&&"true"!==a&&"1"!==a||e.unobserve(t.target)}else t.target.hasAttribute("data-enima-in")&&0==t.target.hasAttribute("data-enima-reset")?i(t.target):t.target.hasAttribute("data-enima-reset")&&r(t.target)})},{rootMargin:c.offset,threshold:c.threshold}),console.log(u),u.querySelectorAll("[data-enima]").forEach(t=>{l.observe(t)}),s=u.querySelectorAll("[data-enima-children]"),o=new IntersectionObserver((t,e)=>{t.forEach(t=>{let a=t.target.getAttribute("data-enima-stagger"),o=t.target.getAttribute("data-enima-reset"),l=t.target.getAttribute("data-enima-children"),s=t.target.querySelectorAll(l);if(null!=a){let t=(d=(u=(u=a).trim()).replace(/[^0-9.]/g,""),u.endsWith("ms")?d:1e3*d),e=1;s.forEach(a=>{let n=t*e;a.style.transitionDelay=n+"ms",a.style.animationDelay=n+"ms",e++})}var u,d;if(t.isIntersecting){s.forEach((t,e)=>{n(t)});let a=t.target.getAttribute("data-enima-once");1!=c.once&&"true"!==a&&"1"!==a||e.unobserve(t.target)}else s.forEach(t=>{t.hasAttribute("data-enima-in")&&(null!=o?r(t):i(t))})})},{rootMargin:c.offset,threshold:c.threshold}),s.forEach(t=>{o.observe(t);let e=t.getAttribute("data-enima-children");t.querySelectorAll(e).forEach(t=>{l.unobserve(t)})}))}return u=u?document.querySelector(c.parentSelector):document,d.destroy=function(t){a("enima:destroy"),o.disconnect(),l.disconnect(),o=null,l=null},d.reset=function(t){a("enima:reset");var e=document.querySelector(t);r(e)},d.update=function(){d.destroy(),m()},m(),d}}));