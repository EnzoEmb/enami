/*!
 * enima-js
 * Animation on scroll
 * 2020 Enzo Vergara
 * MIT License
 * https://github.com/enzoemb/enima
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.enima=t(e)}("undefined"!=typeof global?global:this.window||this.global,(function(e){"use strict";var t={},n={offset:!1,delay:0,duration:400,once:!0,disableOnMobile:!1,threshold:0},a=function(e,t){var n=new CustomEvent(e,{});t?t.dispatchEvent(n):document.dispatchEvent(n)};function i(e){a("enima:animate-in",e);let t=e.getAttribute("data-enima-delay");t&&(e.style.transitionDelay=t,e.style.animationDelay=t),e.removeAttribute("data-enima-out"),e.setAttribute("data-enima-in","")}function r(e){a("enima:animate-out",e),e.removeAttribute("data-enima-in",""),e.setAttribute("data-enima-out","")}return t.init=function(e){console.log("ENIMA INITED"),a("enima:init");var t={...n,...e};if(1==t.disableOnMobile&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return;let o=new IntersectionObserver((e,n)=>{e.forEach(e=>{if(e.isIntersecting){i(e.target);let a=e.target.getAttribute("data-enima-once");1!=t.once&&"true"!==a&&"1"!==a||n.unobserve(e.target)}else r(e.target)})},{rootMargin:t.offset,threshold:t.threshold});document.querySelectorAll("[data-enima]").forEach(e=>{o.observe(e)});let l=document.querySelectorAll("[data-enima-children]"),s=new IntersectionObserver((e,t)=>{e.forEach(e=>{let t=e.target.getAttribute("data-enima-stagger"),n=e.target.getAttribute("data-enima-children"),a=e.target.querySelectorAll(n);if(null!=t){let e=t.replace(/[^0-9.]/g,"");-1!=t.indexOf("s")&&(e*=100);let n=1;a.forEach(t=>{let a=e*n;t.style.transitionDelay=a+"ms",t.style.animationDelay=a+"ms",n++})}e.isIntersecting?a.forEach(e=>{i(e)}):a.forEach(e=>{e.hasAttribute("data-enima-in")&&r(e)})})},{rootMargin:t.offset,threshold:t.threshold});l.forEach(e=>{s.observe(e);let t=e.getAttribute("data-enima-children");e.querySelectorAll(t).forEach(e=>{o.unobserve(e)})})},t.destroy=function(e){a("enima:destroy"),console.log("DESTRUIDO EN SEGUNDOS")},t}));